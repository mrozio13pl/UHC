execute if score uhc$win_countdown uhc_win_countdown matches 10 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run effect give @a resistance 40 10 true
execute if score uhc$win_countdown uhc_win_countdown matches 10 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 20 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 30 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 40 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 50 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 60 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 70 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 80 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 90 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 100 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 110 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 120 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 130 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 140 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 150 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 160 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 170 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 180 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 190 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 200 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run summon firework_rocket ~ ~1 ~ {LifeTime:30,FireworksItem:{id:"firework_rocket",Count:1,tag:{Fireworks:{Flight:2,Explosions:[{Type:1,Flicker:0,Trail:0,Colors:[I;11743532],FadeColors:[I;11743532]},{Type:1,Flicker:0,Trail:0,Colors:[I;14602026],FadeColors:[I;14602026]},{Type:1,Flicker:0,Trail:0,Colors:[I;2651799,14188952,4312372,15435844],FadeColors:[I;2651799,14188952,4312372,15435844]},{Type:1,Flicker:0,Trail:0,Colors:[I;6719955],FadeColors:[I;6719955]}]}}}}
execute if score uhc$win_countdown uhc_win_countdown matches 400 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run tellraw @a {"text":"Restarted...","color":"gray"}
execute if score uhc$win_countdown uhc_win_countdown matches 400 positioned as @a[gamemode=survival,scores={uhc_deaths=..2}] run function stage:end
execute if score uhc$win_countdown uhc_win_countdown matches 3 run scoreboard players add @a[gamemode=survival,scores={uhc_deaths=..2}] uhc_wins 1
execute if score uhc$win_countdown uhc_win_countdown matches 3 run title @a[gamemode=survival,scores={uhc_deaths=..2}] times 0 120 40
execute if score uhc$win_countdown uhc_win_countdown matches 3 run title @a[gamemode=survival,scores={uhc_deaths=..2}] title {"text":"VICTORY","color":"gold"}
execute if score uhc$win_countdown uhc_win_countdown matches 3 run tellraw @a ["",{"text":"!------------------!","color":"green"},{"text":"\n"},{"selector":"@a[scores={uhc_deaths=..2},gamemode=survival]","color":"gold"},{"text":" won the game!","color":"yellow"},{"text":"\n"},{"text":"!------------------!","color":"green"}]